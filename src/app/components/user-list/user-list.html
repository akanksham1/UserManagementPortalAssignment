<div class="portal-container">
  <!-- ğŸ§­ HEADER -->
  <header class="portal-header">
    <div class="header-left">
      <h1>User Management Portal</h1>
      <p class="subtitle">Manage, search, and view user details easily</p>
    </div>
    <div class="header-right">
      <a routerLink="/users/new" class="btn add-btn">
        â• Add New User
      </a>
    </div>
  </header>

  <!-- ğŸ” SEARCH BAR -->
  <section class="search-section">
    <input
      type="text"
      class="search-input"
      placeholder="Search users by name, email, or company..."
      (input)="onSearch($event)"
    />
  </section>

  <!-- ğŸŒ€ LOADING / ERROR STATES -->
  @if (user.loading()) {
    <div class="status-message loading">â³ Loading users...</div>
  }

  @if (user.error()) {
    <div class="status-message error">âŒ {{ user.error() }}</div>
  }

  <!-- ğŸ‘¥ USER GRID -->
  @if (!user.loading() && filteredUsers().length > 0) {
    <section class="user-grid">
      @for (user of filteredUsers(); track user.id) {
        <article class="user-card" appHighlight="#f9f9ff">
          <header class="user-card-header">
            <div class="user-name">
              <h3>{{ user.name }}</h3>
              <span class="user-id">#{{ user.id }}</span>
            </div>
          </header>

          <div class="user-details">
            <p><strong>ğŸ“§</strong> {{ user.email }}</p>
            <p><strong>ğŸ“±</strong> {{ user.phone }}</p>
            <p><strong>ğŸ¢</strong> {{ user.company.name }}</p>
            <p><strong>ğŸŒ</strong> {{ user.website }}</p>
          </div>

          <footer class="user-actions">
            <a [routerLink]="['/users', user.id]" class="btn view-btn">ğŸ‘ï¸ View</a>
            <a [routerLink]="['/users', user.id, 'edit']" class="btn edit-btn">âœï¸ Edit</a>
          </footer>
        </article>
      }
    </section>
  }

  <!-- ğŸš« NO RESULTS -->
  @if (!user.loading() && filteredUsers().length === 0) {
    <div class="no-results">
      <p>No users found matching "<strong>{{ searchTerm() }}</strong>"</p>
    </div>
  }
</div>
